<?xml version="1.0" encoding="utf-8"?>
<odoo>
  
  <template id="external_layout_standard_printout">
    <div class="header">
      <div class="col-xs-2">
        <image src="/ati_srf_report/static/src/img/logo2.png" style="display: inline;width: 120px;height: 75px;margin: 10px;"/>
      </div>
    </div>
    <div class="article o_report_layout_standard">
      <t t-raw="0" />
    </div>
  </template>

  <template id="report_ptr">
    <t t-call="web.basic_layout">
      <div class="page">
        <t t-foreach="docs" t-as="doc">
            <header>
            <div class="row">
              <div class="col-xs-2">
                <img t-if="doc.company_id.logo" t-att-src="image_data_uri(doc.company_id.logo)" style="max-height: 125px;" alt="Logo"/>
              </div>
              <div class="col-xs-2">
              </div>
            </div>
            </header>


            <h2 style="text-align:left"><strong>PATTERN ALTERATION</strong></h2>
            <br/>
            <br/>
            <table border="1" cellpadding="1" cellspacing="1" style="border: 1pt solid black;">
                <tbody>
                    <t t-foreach="doc.line_ids" t-as="line">
                          <tr style="border: 1pt solid black;">
                              <td style="width:229px; border: 1pt solid black;"><strong>Trans No.</strong></td>
                              <td style="width:403px; border: 1pt solid black;">
                                  <t t-esc="doc.name"/>
                              </td>
                              <td style="width:245px; border: 1pt solid black;"><strong>Print Date</strong></td>
                              <td style="width:411px; border: 1pt solid black;">
                                  <t t-esc="datetime.date.today().strftime('%b %d, %Y')"/>
                              </td>
                          </tr>
                          <tr style="border: 1pt solid black;">
                              <td style="width:229px; border: 1pt solid black;"><strong>Trans Date</strong></td>
                              <td style="width:403px; border: 1pt solid black;">
                                  <t t-esc="doc.date_start"/>
                              </td>
                              <td style="width:245px; border: 1pt solid black;"><strong>Style Name</strong></td>
                              <td style="width:411px; border: 1pt solid black;">
                                  <span t-field="line.product_id.name"/>
                              </td>
                          </tr>
                          <tr style="border: 1pt solid black;">
                              <td style="width:229px; border: 1pt solid black;"><strong>Model</strong></td>
                              <td style="width:403px; border: 1pt solid black;">
                                  <span t-field="line.product_id.categ_id"/>
                              </td>
                              <td style="width:245px; border: 1pt solid black;"><strong>Size</strong></td>
                              <td style="width:411px; border: 1pt solid black;">
                                  <span t-field="line.size"/>
                              </td>
                          </tr>
                          <tr style="border: 1pt solid black;">
                              <td style="width:229px; border: 1pt solid black;"><strong>Color</strong></td>
                              <td style="width:403px; border: 1pt solid black;">
                                  <span t-field="line.colour"/>
                              </td>
                              <td style="width:245px; border: 1pt solid black;"><strong>Fabric</strong></td>
                              <td style="width:411px; border: 1pt solid black;">
                                  <span t-field="line.fabric_smp"/>
                              </td>
                          </tr>
                          <tr style="border: 1pt solid black;">
                              <td style="width:229px; border: 1pt solid black;"></td>
                              <td style="width:403px; border: 1pt solid black;"></td>
                              <td style="width:245px; border: 1pt solid black;"><strong>Approved</strong></td>
                              <td style="width:411px; border: 1pt solid black;">
                                  <span t-field="doc.assigned_to"/>
                              </td>
                          </tr>
                          <tr style="border: 1pt solid black;">
                              <td style="width:229px; border: 1pt solid black;"></td>
                              <td style="width:403px; border: 1pt solid black;"></td>
                              <td style="width:245px; border: 1pt solid black;"><strong>User</strong></td>
                              <td style="width:411px; border: 1pt solid black;">
                                  <span t-field="doc.requested_by"/>
                              </td>
                          </tr>
                    </t>
                    <tr style="border: 1pt solid black;">
                      <td colspan="4" style="width:229px; border: 1pt solid black;"><strong>Alteration Comments :</strong></td>
                    </tr>
                    <tr style="border: 1pt solid black;">
                      <td colspan="2" rowspan="1" style="width:229px; border: 1pt solid black;">
                          <br />
                          <t t-esc='doc.alt_cmnt'/>
                          <br />
                          <br />
                          <br />
                          <br />
                          <br />
                      </td>
                      <td colspan="2" rowspan="1" style="text-align:center; width:245px; border: 1pt solid black;">
                          <br />
                          <img t-if="line.product_id.image_1920" t-att-src="image_data_uri(line.product_id.image_1920)" style="max-height:220px; max-width:225px;"/>
                          <br />
                          <br />
                          <br />
                          <br />
                          <br />
                      </td>
                    </tr>
                    <tr style="border: 1pt solid black;">
                      <td colspan="4" style="width:229px; border: 1pt solid black;"><strong>Pattern Maker To Fill Out :</strong></td>
                    </tr>
                    <t t-foreach="doc.get_last_record_pattern()" t-as="rec">
                        <tr style="border: 1pt solid black;">
                          <td style="width:229px; border: 1pt solid black;"><strong>Pattern Marker</strong></td>
                          <td style="width:403px; border: 1pt solid black;">
                              <t t-esc="rec.pattern_marker"/>
                          </td>
                          <td style="width:245px; border: 1pt solid black;"><strong>Size Approve</strong></td>
                          <td style="width:411px; border: 1pt solid black;">
                              <t t-esc="rec['size_approve']"/>
                          </td>
                        </tr>
                        <tr style="border: 1pt solid black;">
                          <td style="width:229px; border: 1pt solid black;"><strong>Sample Size</strong></td>
                          <td style="width:403px; border: 1pt solid black;">
                              <t t-esc="rec['sample_size']"/>
                          </td>
                          <td style="width:245px; border: 1pt solid black;"><strong>Fabric Width</strong></td>
                          <td style="width:411px; border: 1pt solid black;">
                              <t t-esc="rec['fabric_width']"/>
                          </td>
                        </tr>
                        <tr style="border: 1pt solid black;">
                          <td style="width:229px; border: 1pt solid black;"><strong>Pattern Time</strong></td>
                          <td style="width:403px; border: 1pt solid black;">
                              <t t-esc="rec['pattern_time']"/>
                          </td>
                          <td style="width:245px; border: 1pt solid black;"><strong>Costing Order</strong></td>
                          <td style="width:411px; border: 1pt solid black;">
                              <t t-esc="rec['pattern_cost']"/>
                          </td>
                        </tr>
                        <tr style="border: 1pt solid black;">
                          <td style="width:229px; border: 1pt solid black;"><strong>Consumption</strong></td>
                          <td style="width:403px; border: 1pt solid black;">
                              <t t-esc="rec['consumption']"/>
                          </td>
                          <td style="width:245px; border: 1pt solid black;"></td>
                          <td style="width:411px; border: 1pt solid black;"></td>
                        </tr>
                    </t>
                </tbody>
            </table>

        </t>
      </div>
    </t>
  </template>

</odoo>